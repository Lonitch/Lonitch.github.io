---
layout: default
---
<h1>{{ page.title}}</h1>
<p class="subtitle">{{ page.date | date: "%B %-d, %Y" }}</p>
<script>
window.addEventListener( 'Q.Circuit.evaluate completed', function( event ){
    const circuit = event.detail.circuit
    if( circuit.name !== undefined ){
        const el = document.getElementById( circuit.name +'-report' )
        if( el ) {
            var divChildren = el.querySelectorAll("div");
            divChildren.forEach(function(divChild) {
                el.removeChild(divChild);
            });
            lines = circuit.report$().replace(/^\n+/, "").split('\n')
            lines.forEach(function(line) {
                var lineElement = document.createElement("div");
                var ket1 = line.indexOf("|")
                var ket2 = line.indexOf("âŸ©")
                var state = line.substring(ket1+1,ket2).split('').reverse().join('')
                if(state.length > 0) {
                    lineElement.textContent = line.substring(0,ket1)+"|"+state+line.substring(ket2,line.length);
                }
                else{
                    lineElement.textContent= line
                }
                el.appendChild(lineElement);
            });

            // el.innerText = circuit.report$().replace(/^\n+/, "")
        }
    }
})
window.addEventListener( 'Q gui altered circuit', function( event ){
    event.detail.circuit.evaluate$()
})
</script>

{{ content }}
<script src="https://utteranc.es/client.js"
        repo="Lonitch/Lonitch.github.io"
        issue-term="pathname"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // add interactive circuit to all elements with class "Q-circuit-palette"
        Array
        .from( document.querySelectorAll( '.Q-circuit-palette' ))
        .forEach( function(el){
            Q.Circuit.Editor.createPalette(el)
        })
        
        // Get all the div elements with the class 'numbered-equation'
        var equationDivs = document.querySelectorAll('.numbered-equation');
        var eqnNumber = 1
        // Loop through the equation divs and add/update the 'render_count' attribute
        equationDivs.forEach(function(div) {
            var label = document.createElement('span');
            label.className = 'equation-label';
            label.textContent = '(' + eqnNumber + ')';
            div.insertBefore(label, div.firstChild.nextSibling);
            div.setAttribute('render_count', eqnNumber);
            eqnNumber+=1;
        });

        // Get all the div elements with the class 'numbered-fig'
        var figDivs = document.querySelectorAll('.numbered-fig');
        var figNumber = 1
        figDivs.forEach(function(fig) {
            var spanChild = fig.querySelector('span'); // Find <span> child
            
            if (fig.classList.contains('jxgbox')) {
                spanChild = fig.nextElementSibling;
                var spanChild = spanChild.querySelector('span.marginnote');
            }
            spanChild.insertAdjacentHTML("afterbegin",'Fig. ' + figNumber.toString() + ' ');
            fig.setAttribute('render_count', figNumber);
            figNumber+=1;
            
        });

        // create references to equations or figures
        var divs = document.querySelectorAll("div[render_count]");
        var refs = document.querySelectorAll("ref");
    
      if (refs) {
            refs.forEach(function(ref) {
                var refId = ref.getAttribute("fig")||ref.getAttribute("eqn");

                divs.forEach(function(div) {
                    var divId = div.getAttribute("id");
                    if (divId==refId || divId==refId+"-container"){
                        var count = div.getAttribute("render_count");
                        var link = document.createElement("a");
                        link.href = "#" + divId;
                        if (ref.hasAttribute('eqn')){
                            link.textContent = "Eqn. " + count;
                        } else if(ref.hasAttribute('fig')){
                            link.textContent = "Fig. " + count;
                        } else{
                            link.textContent = divId;
                        }
                        ref.parentNode.insertBefore(link, ref);
                    }
                });
            });
        }
    });
</script>